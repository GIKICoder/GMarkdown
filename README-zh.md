# GMarkdown

[GMarkdown](https://github.com/GIKICoder/GMarkdown.git) æ˜¯ä¸€ä¸ªä¸“ä¸º Swift å¼€å‘è€…è®¾è®¡çš„å¼ºå¤§ä¸”å¤šåŠŸèƒ½çš„ Markdown æ¸²æŸ“åº“ã€‚åŸºäº swift-markdown è§£æå™¨æ„å»ºï¼ŒGMarkdown æä¾›çº¯åŸç”Ÿæ¸²æŸ“èƒ½åŠ›ï¼Œç¡®ä¿ä¸æ‚¨çš„ iOS åº”ç”¨ç¨‹åºæ— ç¼é›†æˆå’Œé«˜æ€§èƒ½è¡¨ç°ã€‚

GMarkdown ç›®å‰å¤„äºæµ‹è¯•é˜¶æ®µã€‚å°½ç®¡æˆ‘ä»¬å·²ç»åŠªåŠ›æ”¯æŒä¸åŒé£æ ¼çš„ Markdownï¼Œä½†ä»éœ€è¦ä¸€äº›ä»£ç çº§åˆ«çš„ä¼˜åŒ–å’Œä¿®æ”¹ï¼Œä»¥ä½¿ GMarkdown æ¶æ„æ›´åŠ åˆç†ã€‚å¦‚æœæ—¶é—´å…è®¸ï¼Œæœªæ¥å°†é‡æ–°è®¾è®¡éƒ¨åˆ†ä»£ç é€»è¾‘ã€‚

## âœ¨ æœ€æ–°æ›´æ–°

### ğŸ‰ ç°å·²æ”¯æŒ CocoaPodsï¼
GMarkdown ç°åœ¨å¯ä»¥é€šè¿‡ CocoaPods è½»æ¾é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚åªéœ€åœ¨æ‚¨çš„ Podfile ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```ruby
pod 'GMarkdown'
```

## åŠŸèƒ½ç‰¹æ€§

- **çº¯åŸç”Ÿæ¸²æŸ“**: äº«å—çº¯åŸç”Ÿæ¸²æŸ“å¸¦æ¥çš„ä¼˜åŠ¿ï¼Œç¡®ä¿æ‰€æœ‰ Markdown å†…å®¹éƒ½èƒ½å¿«é€Ÿé«˜æ•ˆåœ°å‘ˆç°ã€‚
- **å¯Œæ–‡æœ¬æ”¯æŒ**: GMarkdown æ”¯æŒå¤šç§å¯Œæ–‡æœ¬æ ·å¼ï¼Œè®©æ‚¨çš„ Markdown å†…å®¹çœ‹èµ·æ¥ä¸“ä¸šè€Œç²¾ç¾ã€‚
- **å›¾ç‰‡æ¸²æŸ“**: è½»æ¾åœ¨ Markdown å†…å®¹ä¸­æ¸²æŸ“å›¾ç‰‡ã€‚
- **ä»£ç å—**: æ”¯æŒè¯­æ³•é«˜äº®æ˜¾ç¤ºä»£ç ï¼Œè®©ä»£ç ç‰‡æ®µæ›´æ˜“äºå±•ç¤ºå’Œé˜…è¯»ã€‚
- **è¡¨æ ¼**: åˆ›å»ºå’Œæ¸²æŸ“è¡¨æ ¼ï¼Œæœ‰æ•ˆç»„ç»‡æ‚¨çš„æ•°æ®ã€‚
- **LaTeX æ•°å­¦å…¬å¼**: ä½¿ç”¨ LaTeX æ¸²æŸ“å¤æ‚çš„æ•°å­¦æ–¹ç¨‹å¼ï¼Œéå¸¸é€‚åˆå­¦æœ¯å’Œç§‘å­¦å†…å®¹ã€‚
- **Mermaid å›¾è¡¨**: ä½¿ç”¨ Mermaid è¯­æ³•åˆ›å»ºç²¾ç¾çš„æµç¨‹å›¾ã€æ—¶åºå›¾å’Œå…¶ä»–å¯è§†åŒ–å›¾è¡¨ã€‚
- **HTML é¢„è§ˆ**: åœ¨ Markdown æ–‡æ¡£ä¸­æ— ç¼é¢„è§ˆå’Œæ¸²æŸ“ HTML å†…å®¹ï¼Œæä¾›æ›´å¼ºçš„æ ¼å¼åŒ–çµæ´»æ€§ã€‚

## ç³»ç»Ÿè¦æ±‚

[GMarkdown](https://github.com/GIKICoder/GMarkdown.git) æ”¯æŒ iOS 13+ å¹¶ä¾èµ–ä»¥ä¸‹æ¡†æ¶ï¼š

- [swift-markdown](https://github.com/apple/swift-markdown.git)
- [SwiftMath](https://github.com/mgriebling/SwiftMath.git)
- [MPITextKit](https://github.com/meitu/MPITextKit.git)
- [Highlightr](https://github.com/raspu/Highlightr.git)

## å®‰è£…

### Swift Package Managerï¼ˆæ¨èï¼‰

GMarkdown ä¹Ÿå¯é€šè¿‡ Swift Package Manager è·å–ã€‚è¦å°†å…¶åŒ…å«åœ¨æ‚¨çš„é¡¹ç›®ä¸­ï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ `Package.swift`ï¼š

```swift
dependencies: [
    .package(url: "https://github.com/GIKICoder/GMarkdown.git", from: "0.0.6")
]
```

### CocoaPods

GMarkdown å¯é€šè¿‡ [CocoaPods](https://cocoapods.org) è·å–ã€‚è¦å®‰è£…å®ƒï¼Œåªéœ€åœ¨æ‚¨çš„ Podfile ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š

```ruby
pod 'GMarkdown'
```

ç„¶åè¿è¡Œï¼š

```bash
pod install
```


## ä½¿ç”¨æ–¹æ³•

### åˆå§‹åŒ–

åˆå§‹åŒ–å¹¶å°† GMarkdown è§†å›¾æ·»åŠ åˆ°æ‚¨çš„è§†å›¾å±‚æ¬¡ç»“æ„ä¸­ï¼š

```swift
let markdownView = GMarkdownMultiView()
view.addSubview(markdownView)
markdownView.frame = view.bounds
```

### ç¤ºä¾‹

ä»¥ä¸‹æ˜¯å¦‚ä½•ä»æ–‡ä»¶åŠ è½½å’Œæ¸²æŸ“ Markdown å†…å®¹çš„å®Œæ•´ç¤ºä¾‹ï¼š

```swift
func setupMarkdown() async {
    guard let filepath = Bundle.main.path(forResource: "markdown", ofType: nil),
          let filecontents = try? String(contentsOfFile: filepath, encoding: .utf8) else {
        return
    }

    let chunks = await parseMarkdown(filecontents)

    DispatchQueue.main.async { [weak self] in
        self?.markdownView.updateMarkdown(chunks)
    }
}

func parseMarkdown(_ content: String) async -> [GMarkChunk] {
    return await withCheckedContinuation { continuation in
        DispatchQueue.global(qos: .userInitiated).async {
            let processor = GMarkProcessor()
            let chunks = processor.process(markdown: content)
            continuation.resume(returning: chunks)
        }
    }
}
```

## æˆªå›¾å±•ç¤º

<a href="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/1.png"><img src="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/1.png" alt="æˆªå›¾ 1" width="300"/></a>
<a href="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/2.png"><img src="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/2.png" alt="æˆªå›¾ 2" width="300"/></a>
<a href="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/3.png"><img src="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/3.png" alt="æˆªå›¾ 3" width="300"/></a>
<a href="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/4.png"><img src="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/4.png" alt="æˆªå›¾ 4" width="300"/></a>
<a href="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/5.png"><img src="https://github.com/GIKICoder/GMarkdown/blob/main/screenshot/5.png" alt="æˆªå›¾ 5" width="300"/></a>

## è®¸å¯è¯

GMarkdown åŸºäº MIT è®¸å¯è¯å‘å¸ƒã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](./LICENSE)ã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æäº¤ Pull Request æˆ–åˆ›å»º Issue æ¥å¸®åŠ©æ”¹è¿› GMarkdownã€‚

---
